<!DOCTYPE html>
<html data-wf-domain="" data-wf-page="56d6955f710a7126338b8b19" data-wf-site="56d6955f710a7126338b8b1c">
  <head>
    <meta charset="utf-8">
    <title>Cryptographic Key Management | Blog</title>
    <meta content="Encryption" name="description">
    <meta content="Lets breakdown types of keys and storage best practises" property="og:title">
    <meta content="" property="og:description">
    <meta property="og:image" content="">
    <meta content="summary" name="twitter:card">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <meta content="Webflow" name="generator"><link href="/blog/posts/style.css" rel="stylesheet" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js"></script>
    <script type="text/javascript">WebFont.load({
        google: {
        families: ["Open Sans:300,300italic,400,400italic,600,600italic,700,700italic,800,800italic","Lato:100,100italic,300,300italic,400,400italic,700,700italic,900,900italic","Fjalla One:regular"]
        }
      });
    </script>
    <script src="https://daks2k3a4ib2z.cloudfront.net/0globals/modernizr-2.7.1.js" type="text/javascript"></script>
    <link href="/images/fav-icon.png" rel="shortcut icon" type="image/x-icon">
    <link href="https://daks2k3a4ib2z.cloudfront.net/img/webclip.png" rel="apple-touch-icon">
  </head>

  <body>
    <div class="sidebar-column">
      <div class="navigation-bar w-nav" data-animation="default" data-collapse="medium" data-contain="1" data-duration="400">
        <div class="w-container"><a class="logo-link w-nav-brand" href="/"><h1 class="logo-text">RealChain ï ‚Ä¢·¥•‚Ä¢ î</h1></a>
          <nav class="navigation-menu w-nav-menu" role="navigation">
              <p class="main-subheading w-hidden-medium w-hidden-small w-hidden-tiny">
                  Hi there, I‚Äôm Sonia aka realchain ï ‚Ä¢·¥•‚Ä¢ î. I am an independent <b>Bot & Protocol Developer</b>, <b>writer</b> 
                  and <b>speaker</b> from the Africa. I <a href="/blog/archive/">write</a>, <a href="https://twitter.com/realchainlife">tweet</a>, 
                  <a href="/blog/speaking/">speak</a> and <a href="http://github.com/realchainlife">share code</a> about building 
                  decentralized systems. We can <a href="/contact/">work together</a>
              </p>
              <h4>Projects</h4>
              <ul class="[ list-ui  list-ui--small ]  mb">
                <li><a href="http://playmakerchain.com">PlayMaker Chain ‚öΩÔ∏è</a> ‚Äì coming soon‚Ä¶</li>
                <li><a href="http://factory24.org">Afrolynk Factory24 üìà</a> ‚Äì here now ‚Ä¶</li>
                <li><a href="http://realchainlife.github.io/portfolio/workshops.html">Nairobi IPFS</a> ‚Äì Here Now! </li>
              </ul>
              <h4>Upcoming Events</h4>
              <ul class="[ list-ui  list-ui--small ]  mb">
                <li><a href="https://africanwomenintech.com/">AWIT Conference</a> ‚Äì Nairobi, (Kenya) July 2019</li>
                <li><a href="http://afrolynk.com">Afrolynk Conference</a> ‚Äì Berlin, (Germany) September 2019</li>
              </ul>
              <div class="divider"></div>
              <div class="social-link-group">
                <a class="social-icon-link w-inline-block" href="https://twitter.com/realchainlife"><img src="http://uploads.webflow.com/56d6955f710a7126338b8b1c/56d6955f710a7126338b8b95_social-18-white.svg" width="25"></a>
                <a class="social-icon-link w-inline-block" href="https://github.com/realchainlife"><img src="http://uploads.webflow.com/56d6955f710a7126338b8b1c/56d6955f710a7126338b8b9f_social-33-white.svg" width="25"></a>
              </div>
            </nav>
          <div class="menu-button w-nav-button"><div class="w-icon-nav-menu"></div>
        </div>
      </div>
    </div>
  </div>
  <div class="content">
    <div class="w-container">
      <div class="post-title-section">
        <h1>Cryptographic Key Management</h1>
        <div class="post-info-wrapper">
          <div class="post-info">June 04, 2018</div>
          <div class="post-info">|</div>
          <a class="post-info when-link" href="/categories/cryptography">Cryptography</a>
        </div>
      </div>
      <div class="body-copy w-richtext">
        <p>In my quest for continous learning, two months ago I started studying Cryptography 
          a course offered by Standford University on [Coursera](https://coursera.org). My 
          objective for taking this subject was to learn how to combine the lessons of 
          cryptography as a tool for protecting information and continous decentralized apps 
          development.
        </p>
        <p>It was also my intention to apply the principles of symmetric and asymmetric 
          cryptographic operations to provide different security properties to the softwares I 
          build. The use of cryptographic encryption and authentication framework is fast becoming 
          a necessity for modern businesses; for example, enterprises are leveraging <i>Public Key 
          Infrastructure</i> to authenticate users and machines.  S/MIME is proving its worth as both 
          an email encryption option and a way to validate email sources to counter phishing.
        </p>
        <p>Before detailing how cryptographic frameworks can be used in various business solutions
          we need to understand what cryptography is, how it works under the hood and how 
          programmers can integrate it into software development. 
        </p>
        <h2>Introduction</h2>
        <p>Whether you know it or not, as long as you have used any service on the internet 
          you have interacted with Cryptographic key management or `encryption` as we will
          refer to it for here-on. Encryption is applied to protect electronic communications
          and financial transactions, maintain the privacy of sensitive data and it enables
          secure authentication and authorization.
        </p>
        <p>Most, <i>if not all</i>, encryption lifecycles on most services start with the generation, 
          usage, storage, archiving, and finally the deletion of keys. What are these keys
          that we're referencing? A <i>cryptographic key</i> is data that specifies the transformation 
          of plaintext into ciphertext, and vice versa. Keys are typically designed to be both 
          random and reasonably long such that they are difficult to guess.
        </p>
        <h3>Types of Cryptographic Keys</h3>
        <p>In general, cryptographic keys are categorized according to their properties and uses. 
          The value of any key is equivalent to the value of all the data and/or assets it is 
          used to protect. Although there are more than 10 types of keys, today we will be covering
          three primary types:
        </p>
        <ol>
          <li><strong>Symmetric keys</strong> ‚Äì these are typically used to protect bulk 
            <i>data-at-rest</i>. It draws its name from the fact that the same encryption 
            key is used to both encrypt and decrypt the data and is only accessible to 
            authorized users i.e anyone with the secret key. 
          </li>
          <li><strong>Asymmetric Keys</strong> ‚Äì as the name suggests are a pair of keys 
            used for the encryption and decryption of data. Both keys are different but 
            related to each other and are created at the same time. They are referred to 
            as a <i>public</i> and a <i>private</i> keys:

              <ul>
                <li>Public Key - this is a key used for data encryption and can be 
                    shared publicly.</li>
                <li>Private Key - this key is used to decrypt the data encrypted
                    by the public key. This key must be safeguarded at all times.</li>
              </ul>

            This type of cryptography is commonly known for its usage with asymmetric 
            algorithms like RSA or ECDSA; in these instances, private key storage best 
            practises are employed since anyone with the private key can impersonate 
            the key owner to decrypt private data, gain unauthorized access to systems 
            or generate a fraudulent digital signature that appears authentic.

              <figure data-rt-type="image" data-rt-align="center" data-rt-max-width="60" class="w-richtext-align-center" 
                style="max-width: 60%;" data-rt-max-height="33.75">
                <div><img src="/blog/blog-img/key-management.png" alt=""></div>
                <figcaption>Illustration: symmetric & asymmetric keys</figcaption>
              </figure>
          </li>
          <li><strong>Hash Keys</strong>  ‚Äì these are used to safeguard the integrity and 
            authenticity of data and transactions with algorithms like HMAC-SHA256. If you 
            have used Bitcoin, other cryptocurriencies or blockchain in general then you 
            are familiar with a hash. 
             
            Similar to asymmetric encryption, private hash keys should not be disclosed, or 
            lost as mal-intended users of this key can impersonate transaction originators to 
            modify, falsify or create incorrect data/transactions that recipients will believe 
            to be authentic.
          </li>
        </ol>
        <h2>How Cryptographic Encryption Works</h2>
        <p>So far in this post we have covered what encryption is and the most common types of keys
          used for data protection. Without going into the historic details of encryption we will
          now dive deep to understand how modern encryption systems actually work.
        </p>
        <h3>Symmetric Encryption Systems</h3>
        <p>A historical example of symmetric encryption used by Julius Caesar: the <i>Caesar cipher</i> 
          is a method of shifting the alphabet by three characters. In this case the encryption and 
          decryption key is the number 3. The Caesar cipher is a weak form of symmetric cryptography 
          since anyone with this knowledge could decipher any message between Ceaser and his generals.
        </p>
        <p>Thankfully, encryption has come a long way since the Caesar cipher. Using amazing math and 
          the help of computers, symmetric-key algorithms today can be divided into 
          <a href="https://en.wikipedia.org/wiki/Stream_cipher">stream ciphers</a> and block ciphers. 
          Stream ciphers encrypt bits of a message one at a time. In a synchronous stream cipher, a 
          stream of pseudo-random digits is generated independently of the plaintext and ciphertext 
          messages, and then combined with the plaintext (to encrypt) or the ciphertext (to decrypt). 
          There‚Äôs a lot of different symmetric algorithms one can choose from including 
          <i><strong>Twofish, Serpent, TDES,</strong></i> and <i><strong>IDEA</strong></i>.
        </p>
        <p>To take it further, lets breakdown how an authorized user can access encrypted data:</p>
        <ol>
          <li>A user requests access to encrypted data.</li>
          <li>The client <i><strong>Key Manager</strong></i> API receives a 
            <i><strong>Data Encryption Key</strong></i>`` retieval request from a database 
            or application.
          </li>
          <li>Here, once the client Key Manager API <i><strong>certificate</strong></i> has 
            been verified, the Key Manager must send <i><strong>its certificate</strong></i> 
            to the <i><strong>Key Manager API</strong></i>`` for authentication and acceptance.
          </li>
          <li>A <i><strong>secure TLS connection</strong></i> is opened between the client KM 
            API & the KM once the certificates have been accepted.
          </li>
          <li>The KM API sends a decrypted <i><strong>Data Encryption Key</strong></i> (that was 
            received over the encrypted TLS session) to the database or application.
          </li>
          <li>A DEK cached in a <i><strong>temporary secure memory</strong></i> lets the database 
            or application <i><strong>send the plaintext</strong></i> information to the user.
          </li>
        </ol>
        <p>Symmetric cryptography however doesn‚Äôt address several issues for example:</p>
        <ol>
            <li>How does the sender send the symmetric decryption key to the 
              recipient without someone spying on that conversation too?</li>
            <li>What if the sender and recipient are physically far away from 
              each other?</li>
        </ol>
        <h2>Asymmetric Encryption Systems</h2>
        <p>The critical advantage in an asymmetric key system is that users never need to send a 
          copy of their keys to each other. The `public key cryptography` allows someone to send 
          their public key in an open, insecure channel. This system also prevents third party 
          <i>intermediaries</i> ‚Äî <strong>such as the email service providers, Internet service 
          providers, and those on their networks</strong> ‚Äî from seeing the message content. 
          Theses intermediaries are restricted to <i>metadata</i>.
        </p>
        <p>In these systems, <strong>users can encrypt and send messages to <i>owners</i> of a public 
          key while also using their <i>private key</i> to decrpyt messages they receive</strong>. 
          Asymmetric encryption uses different keys for encryption and decryption - and that's one of 
          the major benefits of this encryption system. We never need to send secret keys or passwords 
          over insecure network channels.
        </p>
        <p>Another one of those benefits of this system is that it boasts a simple encryption-to-decryption
          -to-encryption process that happens in quick succession:
        </p>
        <ol>
          <li>It starts once the <i><strong>Sender's certificate</strong></i> has been verified. 
            The <i><strong>recipient</strong></i> then sends <i><strong>their certificate</strong></i> 
            to the sender for <i><strong>authentication and acceptance</strong></i>.
          </li>
          <li>Once the sender has received the recipients <i><strong>public key</strong></i> they 
            create a <i><strong>one-session-use</strong></i> symmetric encryption key and encrypts 
            the <i><strong>message</strong></i>.
          </li>
          <li>The <i><strong>symmetric key</strong></i> is encrypted with the senders 
            <i><strong>public key</strong></i> and sent to the recipient.
          </li>
          <li>The <i><strong>message</strong></i> is received as a packet and is <i><strong>decrypted</strong></i> 
            by the recipients private key - the recipient then decrypts the message with the <i><strong>one-session-use</strong></i>
            symmetric key.
          </li>
        </ol>
        <p>Now that we know how each encryption system works I want to cover the very vital topic of 
          key storage options & best practises. With an ever-increasing number of keys to protect, 
          and an ever-increasing value of data being protected by those keys, how do we address the 
          many threats that can result in a key being compromised.
        </p>
        <h2>Key Management - the Risks & Mitigation</h2>
        <p>Best practice tells us that a private key should remain secure and, well‚Ä¶private! Should 
          anyone get a hold of it, depending on the certificate type, they could create phishing websites 
          with the organization‚Äôs certificate in the address bar, they could authenticate to corporate 
          networks by impersonating the owner, they could sign applications or documents as the owner, 
          and even read encrypted emails.
        </p>
        <p>In this section, we‚Äôll discuss the options for private key protection and storage - but before 
          we can talk about security we need to know the possible threats to key management.
        </p>
        <h3>Key Management - the Risks</h3>
        <p>We know a single compromised key could lead to a massive data breach with consequential 
          reputational damage, punitive regulatory fines or loss of investor and customer confidence. 
          Yet, the ever-present vulnerabilities in modern computing systems, and with growing sophistication 
          of cyber attacks, it has never been more important, nor more challenging, to keep cryptographic 
          keys safe and secure.
        </p>
        <p>Here are some of the major threats to consider while managing the safe storage of keys:</p>
        <ul>
          <li><strong>Usage of Keys</strong> - How keys are used across various databases or 
            applications can impact how safe the keys remain. For instance, <i><strong>Improper re-use of keys</strong></i> 
            in certain circumstances can make it easier for an attacker to crack the key.
            
            Without the proper <i><strong>rotation of keys</strong></i> i.e. if a key is over-used 
            then it makes the key more vulnerable especially when using older symmetric algorithms;
          </li>
          <li><strong>Inappropriate & Inadequate Protection</strong> - This is simple, keys should 
            never be <i><strong>stored alongside the data</strong></i> that they protect as any data 
            corruption is likely to compromise the key also.
          
            Even keys stored only in server memory <i><strong>should be encrypted</strong></i> 
            whenever stored and only be made available in unencrypted form within a secure, offline 
            tamper-protected environment.
          </li>
          <li><strong>Insecure Movement of Keys</strong> - When sharing symmetric keys on a system, 
            the key should be <i><strong>split into multiple components</strong></i> that must then 
            be kept separate until being re-entered into the target system (and then the components 
            are destroyed). Without this extra caution, keys are at risk of being publicized.
          </li>
          <li><strong>Non-Desctruction of Keys</strong> - Keys should be <i><strong>securely deleted</strong></i>
            once they have expired, unless explicitly required for later use (e.g. to decrypt data). 
            This removes the risk of accidental compromise at some future date.
          </li>
          <li><strong>Manual Key Management</strong> - The use of a manual key management processes, 
            using <i><strong>paper</strong></i> or <i><strong>inappropriate</strong></i> tools such 
            as spreadsheets and accompanied by manual key ceremonies, can easily result in human errors 
            that often go unnoticed and may leave keys highly vulnerable.
          </li>
        </ul>
        <p>There are other physical environment security threats that need to be considered a threat and 
          factored in the security plan this include <i><strong>physical access controls, fire, safety, 
          mobile device management</strong></i> and even <i><strong>structural integrity</strong></i>.
        </p>
        <h3>Securing Encryption Key Managers</h3>
        <p>Now that we have hightlighted ways to the secure the physical environment in which the key 
          manager is housed we will naturally turn to securing the key manager itself with a hardware 
          security module. Some of this hardware modules are:
        </p>
        <ul>
            <li><strong>Cryptographic Tokens</strong> - With cryptographic hardware, the 
              key is generated on the hardware itself and is not exportable. This means the 
              private key never leaves the device, making it much more difficult for someone 
              to compromise.
            </li>
            <li><strong>Hardware Security Module</strong> - This is typically a server with 
              different levels of security protection or ‚Äúhardening‚Äù of the module with tamper 
              evident/resistant screws and locks along with the highest sensitivity to ‚Äútamper 
              detection/response circuitry that wipes out all sensitive data.
            </li>
            <li><strong>Virtual Instances</strong> - In many cases, a virtual key manager can 
              be downloaded from a vendor in a matter of minutes and deployed in a virtual environment. 
              The downside, of course, is that by it‚Äôs nature of being virtual with no set physical 
              components, a virtual key manager‚Äôs software can only be FIPS 140-2 compliant, but not 
              svalidated. 
            </li>
        </ul>
        <p>The key storage options discussed above are somewhat traditional methods that have been used 
          for years. However, as more devices come online they need to authenticate and communicate securely. 
          We will continue turning to PKI-based solutions, which in turn bring about new considerations, 
          requirements and technologies for protecting private keys.
        </p>
        <h2>Need for Algorithmic Key Encryption</h2>
        <p>So now that we understand the risks and mitigations that come with encryption key management, 
          why is algorithmic key encryption important? Well encryption has been around for millenniums but 
          in 2000 when <i><strong>Advanced Encryption Standard</strong></i> (AES) algorithm was formally 
          adopted as the standard encryption algorithm it introduced a <i><strong>single key use</strong></i> 
          as a part of the encryption process.
        </p>
        <p>The key can be 128 bits (16 bytes), 192 bits (24 bytes), or 256 bits (32 bytes) in length. Given 
          that the fastest computer would take billions of years to run through every permutation of a 256-bit 
          key, AES is considered an extremely secure encryption standard. Regardless, its advised to maintain 
          a robust encryption key management strategy even after deploying an encryption.
        </p>
        <figure data-rt-type="image" data-rt-align="center" data-rt-max-width="60" class="w-richtext-align-center" 
            style="max-width: 60%;" data-rt-max-height="33.75">
            <div><img src="/blog/blog-img/aes-encryption.png" alt=""></div>
            <figcaption>Source: Wikipedia</figcaption>
        </figure>
        <h2>Conclusion</h2>
        <p>Private key storage `shouldn‚Äôt be a dark art`. Any key management system that utilizes 
          HSM to generate keys will not only help protect your keys, it will also boost efficiency, 
          reduce reliance on highly-skilled personnel, and simplify achieving, maintaining and 
          demonstrating compliance with a multitude of standards and regulations such as GDPR.
        </p>
      </div>
      <div class="button-wrapper"><a class="button w-button" href="/blog/archive">‚Üê&nbsp;View all posts</a></div>
    </div>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js" type="text/javascript"></script>
  <script src="https://daks2k3a4ib2z.cloudfront.net/56d6955f710a7126338b8b1c/js/webflow.3283bff92.js" type="text/javascript"></script>
<!--[if lte IE 9]><script src="//cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif]-->
</body>
</html>

